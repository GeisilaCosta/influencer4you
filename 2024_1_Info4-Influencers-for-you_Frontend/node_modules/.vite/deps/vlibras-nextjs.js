import {
  require_react
} from "./chunk-RLJ2RCJQ.js";
import {
  __toESM
} from "./chunk-DC5AMYBS.js";

// node_modules/vlibras-nextjs/dist/esm/index.js
var import_react = __toESM(require_react());
var isReadyStateMatch = (expected) => {
  if (!expected) {
    return true;
  }
  if (typeof expected === "string" && document.readyState === expected) {
    return true;
  }
  return expected.indexOf(document.readyState) !== -1;
};
var useReadyStateEffect = (effect, deps = [], onState = "complete") => {
  (0, import_react.useEffect)(() => {
    const destructors = [
      () => document.removeEventListener("readystatechange", listener)
    ];
    const listener = () => {
      if (!isReadyStateMatch(onState)) {
        return;
      }
      const destructor = effect();
      if (destructor) {
        destructors.push(destructor);
      }
    };
    listener();
    document.addEventListener("readystatechange", listener);
    return () => destructors.forEach((d) => d());
  }, deps);
};
function VLibras({ forceOnload }) {
  useReadyStateEffect(() => {
    const script = document.createElement("script");
    script.src = "https://vlibras.gov.br/app/vlibras-plugin.js";
    script.async = true;
    const widgetUrl = `https://vlibras.gov.br/app`;
    script.onload = () => {
      new window.VLibras.Widget(widgetUrl);
      if (forceOnload) {
        window.onload();
      }
    };
    document.head.appendChild(script);
  }, [forceOnload], "complete");
  return (
    // @ts-ignore
    import_react.default.createElement(
      "div",
      { vw: "true", className: "enabled" },
      import_react.default.createElement("div", { "vw-access-button": "true", className: "active" }),
      import_react.default.createElement(
        "div",
        { "vw-plugin-wrapper": "true" },
        import_react.default.createElement("div", { className: "vw-plugin-top-wrapper" })
      )
    )
  );
}
var esm_default = VLibras;
export {
  esm_default as default
};
//# sourceMappingURL=vlibras-nextjs.js.map
